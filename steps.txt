BUILD
docker image build -t magiwanders/constellation:0.1 . 

RUN
docker container run --rm --name constellation magiwanders/constellation:0.1
docker container run --rm -it --name constellation magiwanders/constellation:0.1 bash

MAKE VISUALIZATION
source /home/conda/etc/profile.d/conda.sh && \
conda install networkx matplotlib && \
source /home/chipyard/env.sh && \
cd /home/chipyard/generators/constellation/scripts && \
sed 's/plt.show()/plt.savefig("noc_visualization.png")/' vis.py > vis.txt && \
cp vis.txt vis.py && \
python vis.py /home/chipyard/sims/verilator/generated-src/constellation.test.TestHarness.TestConfig00/constellation.test.TestHarness.TestConfig00.test.noc. 


COPY VISUALIZATION
docker container run -d --name constellation magiwanders/constellation:0.1
docker cp constellation:/home/chipyard/generators/constellation/scripts/noc_visualization.png .
